apiVersion: anywhere.eks.amazonaws.com/v1alpha1
kind: Cluster
metadata:
  name: eksa-gitops-workload-105
  namespace: default
spec:
  clusterNetwork:
    cniConfig:
      cilium: {}
    pods:
      cidrBlocks:
      - 192.168.0.0/16
    services:
      cidrBlocks:
      - 10.96.0.0/12
  controlPlaneConfiguration:
    count: 1
    endpoint:
      host: "192.168.1.95"
    machineGroupRef:
      kind: TinkerbellMachineConfig
      name: eksa-aio-mc-wl
  datacenterRef:
    kind: TinkerbellDatacenterConfig
    name: eksa-aio-dcc-wl
  kubernetesVersion: "1.29"
  managementCluster:
    name: eksa-gitops-mgmt-171
---
apiVersion: anywhere.eks.amazonaws.com/v1alpha1
kind: TinkerbellDatacenterConfig
metadata:
  name: eksa-aio-dcc-wl
  namespace: default
spec:
  # This is the IP used for load balancing all the Tinkerbell components that are transferred to the actual
  # cluster from bootstrap cluster and this should be in the same subnet as the control-plane vip provided above
  tinkerbellIP: "192.168.1.67"
  osImageURL: "http://192.168.1.80:9900/ubuntu-jammy-eks-anywhere-pro-realtime-minimal-amd64-eks-anywhere-1-29-pro-realtime.raw.gz"
  hookImagesURLPath: "http://192.168.1.80:9900/hook"

---
apiVersion: anywhere.eks.amazonaws.com/v1alpha1
kind: TinkerbellMachineConfig
metadata:
  name: eksa-aio-mc-wl
  namespace: default
spec:
  hardwareSelector:
    type: aio-wl
  osFamily: ubuntu
  users:
  - name: ec2-user
    sshAuthorizedKeys:
    - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC+aG1mKIf8hkqrY+za75MJDukW4m4L0IVqEf4/Ddgld/4A2qpSmNUaTiGcVZuK2qbLcxOBH2aAEsIpbLfOi3G0Qgy1PR5NUTQdRpg5wv9JS4vv8XcsbKxSxth6gCJA7ZrcKTgtDADckaiG9LMIA7ChMoTS2nCx4eRkRAk9yXT3uv+Ic7DBsgzpSv26vq6F8lGzivQLSUShMiTlxBef4eOL+NyZDBDTAEMKGMzob1WID47GeOCKvplDR8occ0DyVX9Wo84AVB6hrdz3oFv3FiXZqIXphwNJyqDM3kdwrh5I1XCblQzNukXzT3WZ5jk45nFjO4jOVWqqHo0FhHpR7XOEw+kpDR5OFRMpTb0Wwhv1mdQp1FG3Ko/Kz5TbSsdA0bCJXnnv0Wv/Rfws4JZ0ON7Cr9Q169X7im8C+RUlaHl6M2RTONT+o5e6G6MgZwANZP6RFjjKQhyv0WuY1jSt9b7TfA21+onPzc073QB6GCaR//2UNgl8aG2pfeEnP+9S2NxA6A9l+Dar4YoRfzyW0Lw5WG4TBzvIldzax5+Gn8qm2n/GolRwMjVTVoCWRO9pxT2p6JdeGPX0jaSPBY3c/4dwXXHvbk3kkqOObDlz+AUV9nuhN6+1i2nogKk9lJe/fqkP/t+DtWwOcMFkr6inlRW+mI9ii5Rqph92nfhxdBP4ww==
