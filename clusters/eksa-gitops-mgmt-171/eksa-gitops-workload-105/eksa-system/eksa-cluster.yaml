apiVersion: anywhere.eks.amazonaws.com/v1alpha1
kind: Cluster
metadata:
  name: eksa-gitops-workload-105
  namespace: default
spec:
  clusterNetwork:
    cniConfig:
      cilium: {}
    pods:
      cidrBlocks:
      - 192.168.0.0/16
    services:
      cidrBlocks:
      - 10.96.0.0/12
  controlPlaneConfiguration:
    count: 1
    endpoint:
      host: "192.168.1.95"
    machineGroupRef:
      kind: TinkerbellMachineConfig
      name: eksa-aio-mc-wl
  datacenterRef:
    kind: TinkerbellDatacenterConfig
    name: eksa-aio-dcc-wl
  kubernetesVersion: "1.26"
  managementCluster:
    name: eksa-gitops-mgmt-171
---
apiVersion: anywhere.eks.amazonaws.com/v1alpha1
kind: TinkerbellDatacenterConfig
metadata:
  name: eksa-aio-dcc-wl
  namespace: default
spec:
  # This is the IP used for load balancing all the Tinkerbell components that are transferred to the actual
  # cluster from bootstrap cluster and this should be in the same subnet as the control-plane vip provided above
  tinkerbellIP: "192.168.1.67"
  osImageURL: "http://192.168.1.80:9900/ubuntu-2204-eng-v1.26.6-kernerl-5.15.0-76-generic.gz"
  hookImagesURLPath: "http://192.168.1.80:9900/hook"

---
apiVersion: anywhere.eks.amazonaws.com/v1alpha1
kind: TinkerbellMachineConfig
metadata:
  name: eksa-aio-mc-wl
  namespace: default
spec:
  hardwareSelector:
    type: aio-wl
  osFamily: ubuntu
  users:
  - name: ec2-user
    sshAuthorizedKeys:
    - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCx3oWWAQdo1ah/menUi9UDnhydLX0XrEYcVgXs9ZcwRslrU7W9ktMqkhy6cNQ7yw4w/rpZ8gLFlOFnHPEDSlDV0QzThbiWs1+JJdVGRKXyyyf3JSeBFx5OnZDqll9LNXHLFB615QFNq/d6Pnbu7VmqC8XXXWveSxBloZI5r1sVkOPuOhKQM15r7SX7JccPgeAGcj6iXBSxrul3oqOP15bgT9KybB1F9Pff2Ryoo5+i0/BQb/xMFKsXTrS/3znYbct7etnRYl+hgxNBPjS5QZdHsT5R20QN1V5lpLV9OON1TIrSCYcdmVhNECu1IlsW56yFJNRQkt8Bhr2YMD73ZlS/IoJb+6PJXnAQubcJxOTXNUeHjVrTCsKiIyIPqNv0YGPGcgLrk/1tA5+sUaHWo6xKn/eqIQNtYLrFsocj9jnfkCV63P265/ywGl2l0FISxTUEH+/qS8Y1O3+JjKj58HMq+sjvFr4Nal10ghaeKLrvlcs6lz+k7uj1FYKBrfHCEKKdUHHg9kxc6GVBe3ipiu+Q/u01p8bMxn4Is/eZTe95Dn2hyikbDq0nerpNpY2oBs6cfm1ALbEXnGPw93xO/EbMZeUyBFPbUMYDAuN/bVpCzEq4a39KgyE3C3JGVvooIQWg4ipwS9HuDuMqBqrQfQ611b2EBU48QygD2ERZLgSWqQ==
