apiVersion: anywhere.eks.amazonaws.com/v1alpha1
kind: Cluster
metadata:
  name: eksa-gitops-workload-177
  namespace: default
spec:
  clusterNetwork:
    cniConfig:
      cilium: {}
    pods:
      cidrBlocks:
      - 192.168.0.0/16
    services:
      cidrBlocks:
      - 10.96.0.0/12
  controlPlaneConfiguration:
    count: 1
    endpoint:
      host: "192.168.1.74"
    machineGroupRef:
      kind: TinkerbellMachineConfig
      name: eksa-aio-mc-wl
  datacenterRef:
    kind: TinkerbellDatacenterConfig
    name: eksa-aio-dcc-wl
  kubernetesVersion: "1.26"
  managementCluster:
    name: eksa-gitops-mgmt-171
  podIamConfig:
    serviceAccountIssuer: https://s3.us-east-1.amazonaws.com/oidc-key
---
apiVersion: anywhere.eks.amazonaws.com/v1alpha1
kind: TinkerbellDatacenterConfig
metadata:
  name: eksa-aio-dcc-wl
  namespace: default
spec:
  # This is the IP used for load balancing all the Tinkerbell components that are transferred to the actual
  # cluster from bootstrap cluster and this should be in the same subnet as the control-plane vip provided above
  tinkerbellIP: "192.168.1.67"
  osImageURL: "http://192.168.1.80:9900/ubuntu-2204-eng-v1.26.6-kernerl-5.15.0-76-generic.gz"
  hookImagesURLPath: "http://192.168.1.80:9900/hook"

---
apiVersion: anywhere.eks.amazonaws.com/v1alpha1
kind: TinkerbellMachineConfig
metadata:
  name: eksa-aio-mc-wl
  namespace: default
spec:
  hardwareSelector:
    type: aio-wl
  osFamily: ubuntu
  users:
  - name: ec2-user
    sshAuthorizedKeys:
    - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDQz9YubUXL1XC6VjN94cnpahOH9I/6pdPR1cZLXnsQOQCCHlAO1DkOGhvftyNg5OYcr5RPl6M3Gj+Ri2LTgHnQdKNowW/fjdShjtRWQNTIsqRShPyd7f7/sJeSwekekGqc830XUc37Kf18QSCsfGx7gR2pQfC//h33CZpauXVT/Y48blf78KZ8yWP0Fry+r6tIAX4EMM0BR5aMK1X418el0k0KAeaRzB5tmjM4dDBeynQwFKBefEIpBKgtaRv4yR8RAAmB/cU0RCFe0hgf7kLkdRVb5r9qwLyFZMjwxLXP6atwioBNXdeKYDaV4wtBiPrJOfvM+IZrkXiNF/iNS6yebdpOM1iEO/iWDrfx55E4DMeG8H0F0U/WfHkCFyJezSn1OI2AjlrB8r2ITGJWYovBHV9Nz1AzrO1DCCIG2jpFhZ8dPYo+Nd0neKjAsd86DLlf6KOE7ETKKJIFk8S3XvPFhBcWO9OQtAc9ReAdxgafA/dR5rBPz5sAPRCsan1Qy7UOKxFY+OlV6R8cc6KIQ2hHYdg47gLh0sQA2kVfsQ3xTVstGtey9D0Kh3k2981aqBOiYRq7TsEEWuBecF8mSi384c/L1oeEg4u56qX2tef/4RO+E1vkODK/9VcMnzMqaPUKxJQxYIKDXysBCKE66Cri7+JIfbVVoJEm4Zc8pMIHVQ==
